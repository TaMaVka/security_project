# Документация и требования к коду

## Описание
Данный скрипт реализует простой SMTP-сервер на Python с использованием модуля ```smtpd``` и ```asyncore```. Он предназначен для приёма и обработки входящих электронных писем. При получении сообщения сервер выводит информацию о нем на консоль, включая данные об отправителе, получателе, теме и теле сообщения.

## Зависимости
Для работы данного скрипта необходим Python версии 3.6 или выше. Модули ```smtpd```, ```asyncore``` и ```email``` являются частью стандартной библиотеки Python, поэтому дополнительные установки не требуются.

## Структура кода

### Основные компоненты
1. Класс ```CustomSMTPServer```:
   - Наследует от класса ```smtpd.SMTPServer```.
   - Метод ```process_message(self, peer, mailfrom, rcpttos, data, **my_kwargs)```:
     - Обрабатывает входящие сообщения.
     - Парсит данные сообщения с помощью ```BytesParser``` и выводит интересующую информацию в консоль (отправитель, получатель, тема, тело письма).
     - Обрабатывает multipart-сообщения, чтобы извлечь части с типом ```text/plain```.

2. Создание и запуск сервера:
   - Создается экземпляр ```CustomSMTPServer```, который слушает на IP-адресе 127.0.0.1 и порту 1025.
   - Выводится сообщение о начале работы сервера.
   - Запускается основной цикл, который ждет входящие соединения при помощи ```asyncore.loop()```.

### Пример выполнения
После запуска скрипта, любой клиент, который отправляет электронные письма на localhost:1025, может будет увидеть в консоли информацию о письме.

## Требования
- Python версии 3.6 или выше.
- Никаких дополнительных библиотек не требуется, так как все модули входят в стандартную библиотеку.

## Использование
1. Запустите скрипт, убедившись, что он запускается без ошибок:
   
   ```python server.py```
   

2. Используйте почтовый клиент (например, ```telnet```, ```sSMTP```, ```swaks``` и т.д.) для отправки писем на адрес ```localhost``` по порту ```1025```. Пример отправки письма с помощью ```telnet```:
   
   ```telnet localhost 1025```
   

3. При установлении соединения введите команды:
   
   ```HELO localhost```

   ```MAIL FROM:<your_email@example.com>```

   ```RCPT TO:<recipient@example.com>```

   ```DATA```

   ```Subject: Test Email```

   ```This is a test email```
   

4. После отправки письма вы увидите его содержимое на консоли.

## Примечания
- Данный SMTP-сервер предназначен только для разработки и тестирования. Не рекомендуется использовать его в производственной среде, так как он не обеспечивает никаких мер безопасности и аутентификации.
- Сервер позволяет получать письма только на локальном хосте и настроен для обработки сообщений, поэтому он не поддерживает отправку писем.